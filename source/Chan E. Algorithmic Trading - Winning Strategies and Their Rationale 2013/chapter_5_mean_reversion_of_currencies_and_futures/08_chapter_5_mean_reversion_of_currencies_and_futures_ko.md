# 통화와 선물의 평균회귀 (Mean Reversion of Currencies and Futures)

전통적인 통념에 따르면 통화와 선물은 **모멘텀 트레이더(momentum traders)**의 영역이며, 이 통념은 옳다. 실제로 대부분의 **CTA(Commodities Trading Advisors, 상품거래자문업자)**는 모멘텀 기반이다. 또한 대부분의 통화 또는 선물 쌍은 공적분(cointegrate)하지 않으며, 대부분의 통화 또는 선물 포트폴리오는 **횡단면 평균회귀(cross-sectional mean reversion)**를 나타내지 않는다는 것도 사실이다. 따라서 통화와 선물에서 평균회귀 전략의 기회는 제한적이지만, 존재하지 않는 것은 아니다. 이 장에서는 **선물 캘린더 스프레드(futures calendar spreads)** 거래와 같이 평균회귀가 규칙이 아닌 예외인 상황을 독자에게 안내할 것이다. 특히, 하나의 독특한 **선물 시장간 스프레드(futures intermarket spread)**인 변동성 선물 대 주가지수 선물에 대한 거래 전략을 논의할 것이다.

선물의 평균회귀를 탐구하는 과정에서, 우리는 **현물 수익률(spot return)** 대 **롤 수익률(roll return)**, 그리고 **백워데이션(backwardation)** 대 **콘탱고(contango)**와 같은 개념을 조명하는 선물 가격의 간단한 수학적 모델도 논의할 것이다. 이 모델을 이해하면 임시적인 기술적 지표에 의존하지 않고 새로운 선물 거래 전략을 제안하는 데 도움이 될 것이다.

통화 거래는 주식 트레이더에게 낯선 특정한 뉘앙스가 있다. 통화의 공적분을 테스트하거나 통화 포트폴리오의 수익률을 계산할 때, 한 통화 쌍의 포인트 움직임이 다른 통화 쌍의 포인트 움직임과 동일한 달러 가치를 갖도록 주의해야 한다. 그렇지 않으면 결과가 의미가 없을 것이다. 또한, 롤오버 이자(rollover interests)는 때때로 총 수익률을 결정하는 데 중요한 역할을 할 수 있다. 이러한 뉘앙스는 이 장에서 다룰 것이다.

## 통화 교차환율 거래 (Trading Currency Cross-Rates)

외환의 **정상 포트폴리오(stationary portfolio)**를 형성하는 기본 아이디어는 서로 다른 국가의 주가지수 ETF 쌍을 거래하는 것과 매우 유사하다: 우리는 유사한 경제 펀더멘털을 가진 국가를 찾아야 한다. 예를 들어, EWA(호주 주가지수 ETF)와 EWC(캐나다 주가지수 ETF)가 공적분한다는 것을 발견했으므로, AUD(호주 달러)가 CAD(캐나다 달러)와도 공적분할 것으로 예상할 수 있다. 또한, 호주와 남아프리카 모두 주요 광업 수입이 있기 때문에, AUD가 ZAR(남아프리카 랜드)와 공적분할 것으로 예상할 수 있다. 실제로 트레이더들은 이러한 통화와 노르웨이 크로네와 같은 다른 통화를 **상품 통화(commodity currencies)**라고 불렀다.

통화 쌍 거래는 해당 주가지수 ETF 쌍 거래에 비해 여러 가지 장점이 있다. 일반적으로 통화의 유동성이 더 높아서(특히 최우선 매수/매도 호가 크기의 경우) 거래 비용이 낮아진다. 통화에 사용할 수 있는 레버리지도 훨씬 높지만, 물론 이것은 양날의 검이 될 수 있다. 통화에는 공매도 제약이 없다. 마지막으로, 통화 거래는 적어도 일요일 오후 5시(ET)부터 금요일 오후 5시(ET)까지 주 5일, 하루 24시간 할 수 있다. (ET는 EDT 또는 EST일 수 있다; 즉, GMT-4 또는 GMT-5이다.) 이는 통화에서 훨씬 더 많은 거래 기회가 있으며, 손절매(stop losses)를 의미 있는 방식으로 사용할 수 있다는 것을 의미한다. (시장이 오랜 기간 닫혀 있으면, 시장이 다시 열릴 때 갭 업 또는 다운할 수 있으므로 손절매는 쓸모없다.)

ETF 쌍 거래와 개념적으로 유사함에도 불구하고, 통화 거래의 메커니즘은 상당히 다르다. 기본 용어부터 시작해보자. 교차환율 AUD.ZAR를 거래한다면, AUD는 **기준 통화(base currency)**라고 하고, ZAR는 **호가 통화(quote currency)**라고 한다. (이에 대한 개인적인 기억법: B는 알파벳순으로 Q보다 앞에 있으므로, 순서는 B.Q이다.) AUD.ZAR가 9.58로 호가된다면, 1 호주 달러를 사는 데 9.58 남아프리카 랜드가 필요하다. 100,000 AUD.ZAR를 매수한다는 것은 100,000 호주 달러를 매수하면서 동시에 동등한 금액(앞서의 호가에서 100,000 x 9.58 = 958,000)의 남아프리카 랜드를 매도하는 것을 의미한다. 그러나 실제로 AUD.ZAR를 교차환율로 제공하는 브로커는 거의 없다. 따라서 보통 우리는 AUD.ZAR를 X 호주 달러 상당만큼 효과적으로 매수하기 위해 X 단위의 B.ZAR를 매수하고 X 단위의 B.AUD를 매도해야 하며, 여기서 B는 다른 기준 통화이다. 우리는 보통 이 작업을 위해 USD나 EUR와 같은 매우 유동적인 기준 통화를 선택한다. AUD.ZAR의 호가가 이 호가 비율과 정확히 같을 것이므로, 이러한 합성 쌍을 USD.ZAR/USD.AUD로 표시할 수 있다. 실제로 이 합성 쌍을 라이브로 거래할 때, 실현된 손익(P&L)은 ZAR와 AUD 모두로 표시된다. 일반적으로, B.Q를 거래하는 전략의 수익률을 계산할 때, 우리는 이익이 현지 통화(미국 투자자의 경우 USD)로 표시된다고 가정하며, 이는 B나 Q 중 어느 것도 아닐 수 있다. 따라서 실제 실현 손익이 백테스트 손익과 일치하려면, B와 Q를 정기적으로 현지 통화로 환전해야 한다. 예를 들어, 현지 통화가 USD이고, 왕복 거래 후 X 단위의 AUD와 Y 단위의 ZAR의 실현 이익이 있다면, X 단위의 ZAR.USD와 Y 단위의 ZAR.AUD를 매수해야 한다. 이를 정기적으로 하지 않으면, AUD와 ZAR에 축적된 대규모 손익이 백테스트 결과와 상당한 편차를 야기할 수 있다.

AUD.CAD와 같은 교차환율이 거래용으로 이미 만들어져 있을 때도, AUD.USD 대 USD.CAD를 별도로 거래하여 두 통화에 다른 가중치를 부여하는 것이 유리할 수 있다. 예제 5.1의 코드는 이러한 전략을 보여준다. 이 전략에서 우리는 **요한센 검정(Johansen test)**을 사용하여 AUD.USD 대 CAD.USD 간의 최적 **헤지 비율(hedge ratio)** 또는 **자본 가중치(capital weights)**를 찾는다. 왜 기존의 호가 USD.CAD 대신 CAD.USD를 사용하지 않는가? 요한센 검정의 **고유벡터(eigenvector)**를 자본 가중치로 해석하려면, 두 가격 시계열이 동일한 호가 통화를 가져야 하기 때문이다. 그렇지 않으면, 두 추정 공적분 상품의 포인트 움직임이 같은 가치를 갖지 않아 요한센 검정이 무의미해진다. 백테스트 프로그램에서 CAD.USD를 사용하는 것이 라이브 거래를 더 어렵게 만들지 않는다: 프로그램이 "1 단위의 CAD.USD 매수" 주문을 보낼 때마다, 우리는 단순히 "1/y USD.CAD 매도"하면 되며, 여기서 y는 USD.CAD의 현재 호가이다.

예제 5.1에서, 우리는 궁극적으로 공통 호가 통화 USD를 가진 쌍으로 축소될 수 있는 두 통화 거래에 집중한다: $B_1$.USD - $B_2$.USD. 따라서 $n_1$ 단위의 $B_1$.USD와 $n_2$ 단위의 $B_2$.USD를 가진 포트폴리오의 수익률은 다음과 같다.

$$r(t+1) = \frac{n_1 y_{1,U}(t) r_1(t+1) + n_2 y_{2,U}(t) r_2(t+1)}{|n_1| y_{1,U}(t) + |n_2| y_{2,U}(t)} \qquad (5.1)$$

예제의 MATLAB 코드 마지막 줄에 표시된 대로이다. 여기서 $r_i$는 $B_i$.USD의 수익률이다:

$$r_i(t+1) = \frac{y_{i,U}(t+1) - y_{i,U}(t)}{y_{i,U}(t)} \qquad (5.2)$$

여기서 $y_{i,U}(t)$와 $y_{i,U}(t+1)$은 각각 t와 t+1에서의 $B_i$.USD 호가이다. 이는 $B_i$.USD 1단위가 미국 달러로 $y_{i,U}$ 가치이기 때문이다.

그러나 포트폴리오가 대신 $n'_1$ 단위의 USD.$Q_1$과 $n'_2$ 단위의 USD.$Q_2$를 가지고 있다면, 수익률은 더 간단하게 다음과 같이 쓸 수 있다.

$$r(t+1) = \frac{n_1' r_1(t+1) + n_2' r_2(t+1)}{|n_1'| + |n_2'|} \qquad (5.3)$$

여기서

$$r_i(t+1) = \frac{y_{Ui}(t+1) - y_{Ui}(t)}{y_{Ui}(t)} \qquad (5.4)$$

이고 $y_{U,i}(t)$와 $y_{U,i}(t+1)$은 각각 t와 t+1에서의 USD.$Q_i$ 호가이다. 이는 USD.$Q_i$ 1단위가 정확히 1 미국 달러 가치이기 때문이다.

식 5.2와 5.4는 **롤오버 이자(rollover interests)**를 무시했기 때문에 엄밀히 말해 정확하지 않다는 점을 즉시 말해야 한다. 롤오버 이자는 다음 섹션에서 논의할 것이다. 그러나 롤오버 이자의 영향은 예제 5.1에서 설명하는 것과 같은 단기 전략에서는 일반적으로 크지 않으므로, 여기서는 단순함을 위해 생략했다.

### 예제 5.1: 요한센 고유벡터를 사용한 USD.AUD 대 USD.CAD 페어 트레이딩

이것은 예제 3.1(*PriceSpread.m*)의 전략과 유사한 고전적인 **선형 평균회귀 전략(linear mean-reverting strategy)**이다. 이전에는 헤지 비율을 계산하기 위해 20일의 룩백(look-back)을 사용했지만, 여기서는 250일의 고정 **훈련 세트(training set)**를 사용한다(후향적으로 더 나은 결과를 제공함). 하지만 **이동평균(moving average)**과 **표준편차(standard deviation)** 계산에는 여전히 20일의 룩백을 사용한다. 그러나 현재 전략은 예제 2.5의 일반적인 외환 전략과 매우 다르다. 여기서 두 통화 간의 헤지 비율은 1이 아니므로, 하나의 교차환율 AUD.CAD로 거래할 수 없다. 대신

#### 예제 5.1 (계속)

USD.AUD 대 USD.CAD에 대해 요한센 검정을 실행하는 대신, 실제로 AUD.USD와 CAD.USD에 대해 실행해야 한다. 그래야 각 상품에서 포인트 움직임의 달러 가치가 동일하다. 직관적으로도 이것은 말이 된다. 평균회귀 전략에서 CAD.USD가 AUD.USD보다 훨씬 낮으면 CAD를 매수하고 싶기 때문이다.

우리는 입력이 두 개의 *T* x 1 배열 *usdcad*와 *usdaud*(둘 다 일별 가격 시계열)라고 가정한다. *T* x 1 배열 *yport*는 USD로 표시된 AUD.USD와 CAD.USD의 단위 포트폴리오의 시장 가치이고, *numUnits*는 우리 전략이 보유하라고 하는 이 단위 포트폴리오의 단위 수이다. *T* x 2 배열 *positions*는 우리가 보유해야 하는 AUD.USD와 CAD.USD의 USD 시장 가치를 나타낸다. 당연히, 손익(다시 USD로)은 각 상품의 시장 가치에 그들의 수익률을 곱한 합이고, 포트폴리오의 일별 수익률은 손익을 전날 말 포트폴리오의 총 시장 가치 합계로 나눈 것이다.

코드는 *AUDCAD_unequal.m*으로 다운로드할 수 있다.

```
cad=1./usdcad.cl;
aud=audusd.cl;
y=[ aud cad ];
trainlen=250;
lookback=20;
hedgeRatio=NaN(size(y));
numUnits=NaN(size(y, 1), 1);
for t=trainlen+1:size(y, 1)
  res=johansen(log(y(t-trainlen:t-1, :)), 0, 1);
  hedgeRatio(t, :)=res.evec(:, 1)';
  yport=sum(y(t-lookback+1:t, :).* ...
   repmat(hedgeRatio(t, :), [lookback 1]), 2);
  ma=mean(yport);
  mstd=std(yport);
  zScore=(yport(end)-ma)/mstd;
  numUnits(t)=-(yport(end)-ma)/mstd;
end
positions=repmat(numUnits, [1 size(y, 2)]).*hedgeRatio.*y;
pnl=sum(lag(positions, 1).*(y-lag(y, 1))./lag(y, 1), 2);
ret=pnl./sum(abs(lag(positions, 1)), 2);
```

(*계속*)

#### 예제 5.1 (계속)

전략 성과를 계산할 때 처음 250일의 롤링 훈련 데이터를 제외하면, 2009년 12월 18일부터 2012년 4월 26일까지의 기간에 **APR**은 11퍼센트이고 **샤프 비율(Sharpe ratio)**은 1.6이다. 누적 수익률 곡선은 그림 5.1에 표시되어 있다.

![](_page_5_Figure_3.jpeg)

**그림 5.1** USD.AUD 대 USD.CAD 전략의 누적 수익률

때때로 완전히 다른 두 교차환율 쌍을 서로 거래하는 데서 수익성 있는 기회를 찾을 수 있다: $B_1.Q_1$ 대 $B_2.Q_2$. 전략이 $n_1$ 단위의 $B_1.Q_1$과 $n_2$ 단위의 $B_2.Q_2$의 포트폴리오를 요구한다면, 포트폴리오의 일별 수익률(USD의 가정된 현지 통화로)은 같은 식 5.1로 주어진다. 거기서 $r_i$는 $B_i.Q_i$의 수익률이 되므로, 식 5.2는 다음으로 대체된다.

$$r_i(t+1) = \{ \log (y_{i,Q_i}(t+1)) - \log (y_{i,Q_i}(t)) \} \qquad (5.5)$$

여기서 $y_{i,Qi}(t)$는 $B_i.Q_i$의 호가이다. 수익률 계산을 위한 현지 통화로 USD 대신 EUR이나 다른 통화를 사용했다면 같은 식 5.1부터 5.5가 유효하다.

보시다시피, 통화 차익거래 전략을 백테스트하는 데 있어 핵심 어려움은 전략의 복잡성이 아니라, 공적분 테스트를 위한 데이터 시계열을 준비하는 올바른 방법과 수익률을 측정하는 올바른 공식이다!

## 통화 거래의 롤오버 이자 (Rollover Interests in Currency Trading)

통화 교차환율 거래의 특징은 교차환율 포지션이 야간에 보유될 경우 얻거나 지불하는 **차등 이자율(differential interest rate)**이다. 통화 거래에서 "야간"은 오후 5시(ET)까지 또는 그 이후에 포지션을 보유하는 것을 의미한다. B.Q 쌍을 야간에 롱으로 보유하면, 이자 차이는 *iB* - *iQ*이며, 여기서 *iB*와 *iQ*는 각각 통화 B와 Q의 일별 이자율이다. *iQ* > *iB*이면, 롤오버 이자라고도 하는 이 이자 차이는 실제로 **차변 이자(debit interest)**이다(즉, 계정에서 차감된다). 실제로 **T+2일 결제 시스템(T + 2 day settlement system)**과 관련된 이유로, 포지션이 T일 오후 5시(ET) 마감 이후에 보유되었고, T+3일이 교차환율의 어느 통화에 대해서든 주말이나 휴일이면, 해당 포지션에 발생한 롤오버 이자는 시장이 닫혀 있는 일수에 1을 더한 값을 곱한다. 따라서 포지션이 수요일 오후 5시(ET) 이후에 보유되었다면, 토요일과 일요일에 시장이 닫혀 있으므로 롤오버 이자는 일별 이율의 3배이다. 이 규칙에 대한 추가 예외는 USD.CAD나 USD.MXN을 거래할 때 적용되는데, 여기서 결제는 T+1일에 발생하므로, T+2일이 주말이나 휴일인 경우에만 롤오버 이자에 비거래일 수에 1을 더한 값을 곱한다. (따라서 *목요일* 오후 5시(ET) 이후에 포지션이 보유된 경우에만 롤오버 이자가 일별 이율의 3배가 된다.) 이러한 모든 고려사항은 야간 포지션을 보유하는 전략의 백테스트 정확도에 영향을 미친다.

어떤 전략에 대해서든 샤프 비율을 계산할 때, 우리는 **초과 수익률(excess return)**을 계산해야 한다. 샤프 비율은 평균 초과 수익률을 초과 수익률의 표준편차로 나눈 비율이며, 적절히 연율화된다. 초과 수익률은 전략이 보유한 포지션의 수익률에서 해당 포지션의 **금융 비용(financing cost)**을 뺀 것이다. 따라서 일중 포지션만 있다면, 금융 비용은 0이다. **롱숏 달러 중립(long-short dollar neutral)** 주식 포트폴리오를 거래한다면, 신용 이자가 보통 차변 이자의 절대값보다 약간 작지만 금융 비용은 0에 가깝다고 가정할 수 있다. 선물 포지션의 경우, 선물 포지션은 단지 계약이지 자금을 조달할 현금이 필요한 자산이 아니므로 금융 비용도 0이다. (증거금 현금 요구 사항은 해당 현금이 계정에서 이자를 발생시키므로 계산하지 않는다.) 통화 교차환율의 경우, 교차환율의 퍼센트 변화에 롤오버 이자를 추가하는 한, 금융 비용을 다시 0으로 설정할 수 있다. 즉, 식 5.5를 수정하여 t일부터 t+1일까지 교차환율 포지션 *POSB.Q*를 보유함으로써 얻는 초과 수익률 *rt*+1이 다음과 같도록 해야 한다.

$$r(t+1) = \{ \log (y_{B,Q}(t+1)) - \log (y_{B,Q}(t)) + \log (1 + i_B(t)) - \log (1 + i_Q(t)) \} \qquad (5.6)$$

여기서 *y*(*t*)와 *y*(*t* + 1)은 각각 *t*와 *t* + 1에서의 BQ 호가이다(Dueker, 2006).

예제 5.2에서, AUD.CAD에 대한 선형 평균회귀 전략을 백테스트할 때 롤오버 이자를 어떻게 고려할 수 있는지 본다.

### 예제 5.2: 롤오버 이자를 포함한 AUD.CAD 페어 트레이딩

이 예제에서도 선형 평균회귀 전략을 계속 사용하지만, 예제 5.1과 대조적으로 그리고 단순함을 위해, USD.CAD 대 AUD.USD를 별도로 거래하는 것이 아니라 이미 만들어진 쌍 AUD.CAD를 거래한다. 이 전략은 오후 5시(ET) 이후에도 보유하므로 야간 롤오버 이자율을 고려할 것이다. AUD.CAD의 일별 종가는 *T* x 1 배열 *dailyCl*에 포함되어 있고 해당 거래일은 *T* x 1 배열 *tday*에 있다고 가정한다. 역사적 이자율은 호주 중앙은행 웹사이트의 단기금융시장 금리, www.rba.gov.au/statistics/tables/#interest_rates, 그리고 캐나다 은행 웹사이트의 야간 단기금융시장 자금조달 금리, www.bankofcanada.ca/wp-content/uploads/2010/09/selected_historical_page33.pdf에서 가져왔다. 일별 AUD 및 CAD 이자율은 *tday*의 날짜와 일치하는 두 개의 *T* x 1 배열 *aud_dailyRates*와 *cad_dailyRates*라고 가정한다.

소스 코드는 *AUDCAD_daily.m*으로 다운로드할 수 있다. lookback=20;

```
% AUD에 대해 수요일에 3배 롤오버 이자
isWednesday=weekday(datenum(num2str(tday), 'yyyymmdd'))==4;
aud_dailyRates(isWednesday)=3*aud_dailyRates(isWednesday);
cad_dailyRates=zeros(size(tday));
% CAD에 대해 목요일에 3배 롤오버 이자
```

#### 예제 5.2 (계속)

```
isThursday=weekday(datenum(num2str(tday), 'yyyymmdd'))==5;
cad_dailyRates(isThursday)=3*cad_dailyRates(isThursday);
ma=movingAvg(dailyCl, lookback);
z=(dailyCl-ma);
ret=lag(-sign(z), 1).*(log(dailyCl)- ...
 lag(log(dailyCl)+log(1+aud_dailyRates)- ...
 log(1+cad_dailyRates), 1));
```

이 간단한 평균회귀 전략은 6.2퍼센트의 APR과 0.54의 샤프 비율을 산출하는데, 이는 비단위 헤지 비율을 사용한 예제 5.1의 결과보다 훨씬 약한 결과이다. 또한 이 경우 롤오버 이자를 고려하지 않았더라도, 연율화된 평균 롤오버 이자가 거의 5퍼센트에 달함에도 불구하고 APR은 6.7퍼센트로, 샤프 비율은 0.58로 약간만 증가했을 것이라는 점도 주목할 만하다.

## 선물 캘린더 스프레드 거래 (Trading Futures Calendar Spread)

만기일(또는 "만기")이 다른 선물 계약은 가격이 다르고, 수익률도 약간 다르다. 만기가 다른 선물 계약을 짝지으면 **캘린더 스프레드(calendar spreads)**라고 알려진 것이 만들어진다. 캘린더 스프레드의 두 레그 모두 기초자산의 가격을 추적하므로, 캘린더 스프레드가 잠재적으로 평균회귀 거래에 좋은 기회를 제공할 것이라고 생각할 수 있다. 그러나 실제로는 일반적으로 평균회귀하지 않는다. 그 이유를 이해하려면 일반적으로 선물의 수익률을 주도하는 것이 무엇인지 더 이해해야 한다.

### 롤 수익률, 백워데이션, 콘탱고 (Roll Returns, Backwardation, and Contango)

만기가 다른 선물 계약의 가격이 다르다는 사실은 기초 현물 가격이 변하지 않더라도 선물 포지션이 0이 아닌 수익률을 가질 것임을 의미한다. 결국 모든 가격은 그 일정한 현물 가격을 향해 수렴해야 하기 때문이다. 이 수익률을 **롤 수익률(roll return)** 또는 **롤 수익(roll yield)**이라고 한다. 이름에도 불구하고, 선물 포지션은 실제로 다음 계약으로 "롤 포워드"하든 안 하든 이 수익률을 겪는다. 이것은

![](_page_9_Figure_2.jpeg)

**그림 5.2** 백워데이션 상태에서 시간의 함수로서 만기가 다른 선물의 로그 가격

총 수익률의 본질적인 부분이며, 현물 수익률과 롤 수익률로 분해될 수 있다.

계약이 **백워데이션(backwardation)** 상태에 있으면, 즉 **근월물(near)** (만기가 가까운) 계약이 **원월물(far)** 계약보다 높은 가격을 가지면, 롤 수익률은 양수가 된다. 반대로 계약이 **콘탱고(contango)** 상태에 있으면, 롤 수익률은 음수가 된다. 이것을 보려면, 현물 가격이 시간 내내 변하지 않고 그림 5.2의 수평선으로 표시된다고 상상해 보자.

또한 만기가 다른 로그 선물 가격이 같은 기울기를 가진 시간의 동일한 선형 함수에 부합하지만 만기에서 현물 가격과 교차하는 다른 절편을 가진다고 가정할 수 있다. 질문은: 기울기가 양수여야 하는가 음수여야 하는가? 그래프로, 근월 선물이 원월 선물보다 높은 가격을 가지고 수평선과 더 일찍 교차해야 한다면, 그림 5.2에서 보듯이 위쪽으로 기울어지고 양의 롤 수익률을 가져야 한다. 어느 시점에서든, 첫 번째 근월물 계약의 가격 *P*1은 두 번째 근월물 계약의 가격 *P*2보다 높고, 이런 식으로 계속된다. 그림 5.3에서 보여주듯이 콘탱고 상태에서는 그 반대가 참이다. (일정한 복리 총 수익률을 가진 계약이 직선으로 나타나도록 원시 가격 대신 로그 가격을 표시한다.)

이 그래프 논증은 단지 기억술로 사용될 뿐 증명이 아니라는 점에 유의하라. 물론 실제 로그 선물 가격은 시간의 선형 함수가 아니고, 만기 전에 교차할 수도 있으며(다른 만기의 두 계약이 같은 가격),

![](_page_10_Figure_2.jpeg)

**그림 5.3** 콘탱고 상태에서 시간의 함수로서 만기가 다른 선물의 로그 가격

마지막으로 만기 시 현물 가격이 시간 내내 일정할 가능성은 낮다. 그럼에도 불구하고, 그림 5.2와 5.3은 전형적인 상황을 보여준다. 백워데이션이 근월물 계약이 원월물 계약보다 높은 가격을 의미하는지 기억하는 데 도움이 되는 기억술은 박스 5.1에 제시되어 있다.

#### 백워데이션 대 콘탱고 기억술

**박스 5.1**

나는 백워데이션이 근월물 계약이 더 높은 가격인지 낮은 가격인지 기억할 수 없다. 당신도 나와 같다면, 아래의 기억술을 사용할 수 있다.

이 기억술은 존 메이너드 케인스(John Maynard Keynes)에서 유래했다(Hull, 1997). 그와 존 힉스는 일반 상품의 경우, 실제로 물리적 상품을 소유하는 사람들("헤저", 예: 농부나 석유 생산자)이 그들의 포지션을 선물 매도로 헤지하는 경향이 있으며, 그들의 헤지에서 손실을 볼 것으로 예상한다고 주장했다. 한편, 투기자들은 순 롱 포지션을 가지고 있으며, 이 위험을 감수하는 데 대한 보상을 받아야 한다. 따라서 그들은 양의 롤 수익률을 가진 선물, 또는 동등하게 예상 미래 현물 가격보다 낮은 가격을 가진 선물, 즉 "정상 백워데이션(normal backwardation)" 상태의 선물만 살 것이다. 따라서 우리는 "백워데이션"이 항상 "정상"과 연관되어 있고, "정상"은 선물 가격이 항상 현물 가격보다 낮다는 것을 의미한다는 것을 기억해야 한다.

물론, 이 주장은 완전히 정확하지 않다. 우리는 완벽하게 "정상적인" 상품인 원유가 다양한 기간에 걸쳐 콘탱고 상태에 있다는 것을 볼 것이기 때문이다. 그러나 이 이야기는 우리에게 좋은 기억술을 제공한다.

일련의 선물 계약에 대한 현물 및 롤 수익률을 계산하기 위해서는 **선물 가격(futures prices)**의 간단한 모델을 갖는 것이 도움이 된다. 많은 상품에 대해, 우리는 다음과 같이 쓸 수 있다.

$$F(t, T) = S(t)\exp(\gamma(t - T)) \qquad (5.7)$$

여기서 *t*는 현재 시간이고, *T*는 만기 시간이며, *S*(*t*)는 현물 가격이다(Hull, 1997). 이 모델은 (복리) 롤 수익률 γ가 시간에 따라 일정하다는 것을 의미한다. 그러나 우리는 한 단계 더 나아가, (복리) 현물 수익률 α도 일정하다고 가정할 수 있다:

$$S(t) = c e^{\alpha t} \qquad (5.8)$$

본질적으로, 우리는 그림 5.2와 5.3의 그 선들을 수학적으로 설명하고자 하며, 그것들이 수평선이 아니라 0이 아닌 기울기를 가진 선에서 끝나도록 약간 수정한다. 따라서 시간 *T*에 만기되는 선물의 가격에 대해 우리가 채택하는 모델은 다음과 같다.

$$F(t, T) = c e^{\alpha t} \exp(\gamma(t - T)) \qquad (5.9)$$

여기서 *c*, α, γ는 상수이다. 계약의 총 수익률은 다음과 같이 주어진다.

$$\frac{\partial(\log F(t, T))}{\partial t} = \alpha + \gamma \qquad (5.10)$$

특정 계약에 대해 *T*가 고정되어 있기 때문이다. 마지막으로, 선물의 롤 수익률은 다음과 같이 주어진다.

$$-\frac{\partial(\log F(t, T))}{\partial T} = \gamma \qquad (5.11)$$

따라서, 우리는 **총 수익률** = **현물 수익률** + **롤 수익률**이라는 개념을 수학적으로 포착했다.

이 모델을 기반으로, 예제 5.3에서 보여주듯이 선형 회귀를 사용하여 선물 시계열의 현물 및 롤 수익률을 추정할 수 있다.

롤 수익률은 기초 현물 가격에 의해 알려지거나 직관적으로 이해된 지식에 기반한 많은 겉보기에 매력적인 전략에 저주가 될 수 있다. 예를 들어, 상품 생산자의 ETF(예: XLE)는 일반적으로 해당 상품의 현물 가격과 공적분한다. 그러나 롤 수익률의 존재 때문에, 이 ETF는 해당 상품의 선물 가격과 공적분하지 않을 수 있다. 이 미묘함을 이해하지 못해 저는 10만 달러 이상의 거래 손실을 입었고, 독립 트레이더로서의 첫 해(2006년)를 망쳤다.

### 예제 5.3: 일정 수익률 모델을 사용한 현물 및 롤 수익률 추정

식 5.9에서 했듯이 현물 및 롤 수익률이 시간에 걸쳐 진정으로 일정하다고 가정하면, 선형 회귀를 사용하여 그 값을 추정할 수 있다. 이 방법으로 현물 수익률을 찾는 것은 쉽다. 현물 가격의 로그를 시간에 대해 회귀하면 된다. 그러나 롤 수익률을 찾으려면 고정된 시점을 선택하고, 다양한 계약의 가격을 만기까지의 시간에 대해 회귀해야 한다. 실제로, 회귀 계수는 그 고정된 시간과 해당 시간에 사용 가능한 정확한 계약 세트에 따라 달라진다. 따라서 일정한 롤 수익률을 가정함에도 불구하고, 우리는 여전히 천천히 변하는 추정된 γ를 얻게 될 것이다.

우리는 이 절차를 서로 다른 범주의 몇 가지 다른 선물에 적용할 것이다: 브라질 헤알 선물 BR, 옥수수 선물 C, WTI 원유 선물 CL, 구리 선물 HG, 그리고 2년 미국 재무부 채권 선물 TU.

다음 프로그램에서, 현물 가격은 *τ* x 1 배열 *spot*에 포함되어 있고, 선물 종가 데이터는 *τ* x *M* 배열 *cl*에 저장되어 있다고 가정한다. 여기서 *τ*는 거래일 수이고, *M*은 계약 수이다. 확실히 모든 계약이 항상 존재하는 것은 아니므로, 일부 계약이 존재하지 않는 날의 가격은 NaN으로 표시한다.

먼저 아래의 간단한 회귀로 평균 연율화 (복리) 현물 수익률을 찾을 것이다. (프로그램은 *estimateFuturesReturns.m*으로 다운로드할 수 있다.)

```
T=[1:length(spot)]';
T(isBadData)=[];
res=ols(log(spot), [T ones(size(T, 1), 1)]);
fprintf(1, 'Average annualized spot return=%f\n', ...
 252*smartmean(res.beta(1)));
```

다음으로, 롤 수익률 γ 값을 얻기 위해 선도 곡선(선물 가격을 만기일의 함수로)을 피팅할 것이다. 즉, 한 번에 하루를 선택하고 피팅을 위해 5개의 연속 계약이 있는 한 가장 가까운 5개 만기의 선물 가격을 만기까지의 시간 *T*(월 단위)에 피팅한다. (선도 곡선은 가장 가까운 5개 계약을 넘어서면 콘탱고에서 백워데이션으로 또는 그 반대로 변할 수 있다.) γ 값을 *τ* x 1 배열 *gamma*에 저장한다.

(*계속*)

#### 예제 5.3 (계속)

```
Gamma=NaN(size(tday));
for t=1:length(tday)
  FT=cl(t, :)';
  idx=find(isfinite(FT));
  idxDiff=fwdshift(1, idx)-idx; % 연속 월물 선물 확인
  if (length(idx) >= 5 && all(idxDiff(1:4)==1))
    FT=FT(idx(1:5));
    T=[1:length(FT)]';
    res=ols(log(FT), [T ones(size(T, 1), 1)]);
    gamma(t)=-12*res.beta(1);
  end
end
```

식 5.7이 합리적인지 확인하기 위해, 그림 5.4에서 고정된 한 시점에서 CL의 로그 선물 값을 만기까지의 시간에 대해 산점도로 그리고 실제로 직선 위에 꽤 깔끔하게 떨어지는지 확인한다. (이 산점도에서는 가장 가까운 5개 계약만으로 제한한다. 만기가 더 먼 계약의 가격은 같은 직선 위에 그렇게 깔끔하게 떨어지지 않을 수 있으며, 이는 식 5.7의 붕괴를 나타낸다.)

![](_page_13_Figure_6.jpeg)

**그림 5.4** CL 2007년 1월~5월 계약의 만기까지 시간 대비 로그 선물 값 산점도. 로그 가격이 직선 위에 깔끔하게 떨어진다.

#### 예제 5.3 (계속)

2004년 11월 22일부터 2012년 8월 13일까지의 기간에 대한 CL의 연율화된 γ 값은 그림 5.5에 표시되어 있다.

![](_page_14_Figure_4.jpeg)

**그림 5.5** CL의 롤 수익률 γ 값. 양수 값은 백워데이션을, 음수 값은 콘탱고를 나타낸다.

표 5.1에 5가지 선물에 대한 현물 수익률 α와 롤 수익률 γ의 평균 연율화 값을 나열했다. BR, C, TU의 경우 롤 수익률의 크기가 현물 수익률보다 훨씬 크다는 것을 알 수 있다!

| 표 5.1  | 다양한 선물의 연율화 평균 현물 및 롤 수익률 |        |
|------------|----------------------------------------------|--------|
| 심볼     | α                                            | γ      |
| BR (CME)   | -2.7%                                        | 10.8%  |
| C (CBOT)   | 2.8%                                         | -12.8% |
| CL (NYMEX) | 7.3%                                         | -7.1%  |
| HG (CME)   | 5.0%                                         | 7.7%   |
| TU (CBOT)  | -0.0%                                        | 3.2%   |

또 다른 예: 금융을 공부하는 모든 학생은 변동성이 평균회귀한다는 것을 안다. 더 정확히 말하면, 우리는 **VIX 지수(VIX index)**가 평균회귀한다는 것을 안다. 실제로 **확장된 딕키-풀러(ADF) 검정(augmented Dickey-Fuller test)**은 99퍼센트의 확실성으로 정상(stationary)임을 보여줄 것이다. 그렇다면 VX 선물 거래가 훌륭한 평균회귀 전략이 될 것이라고 생각할 수 있다. (VX는 CBOE 선물 거래소[CFE]에서 거래되는 VIX 변동성 지수를 추적하는 선물이다.) 그러나 시간에 따른 **수정된 근월물(back-adjusted front-month)** 선물 가격을 보면, VX의 평균회귀는 변동성이 2008년 11월 20일경(신용 위기), 2010년 5월 20일(플래시 크래시 여파), 그리고 다시 2011년 10월 3일에 정점을 찍은 후에만 발생한다. 다른 시간에는 그냥 끊임없이 하락한다. 실제로 ADF 검정은 수정된 근월물 계약 가격이 확실히 평균회귀하지 않음을 보여준다. VIX와 근월물 VX의 차이를 그림 5.6에서 볼 수 있으며, 이 차이는 전적으로 롤 수익률 때문이다. VX 선물은 약 3/4의 시간 동안 콘탱고 상태에 있었고, 평균 롤 수익률은 매우 부정적인 연율화 -50퍼센트이다(Simon and Campasano, 2012). 이 지속적인 콘탱고가 우리가 6장에서 VX에서 모멘텀 전략이 꽤 잘 작동한다는 것을 발견하는 이유이다.

평균 롤 수익률은 VX 외에 다른 선물에서도 평균 현물 수익률에 비해 상당히 클 수 있다. 표 5.1은 옥수수의 연율화 롤 수익률이 2.8퍼센트의 현물 수익률에 비해 -12.8퍼센트임을 보여주고, Erb와 Harvey는 1982년 12월부터 2004년 5월까지의 기간에 난방유의 연율화 롤 수익률이 0.93퍼센트의 현물 수익률에 비해 4.6퍼센트라고 계산했다(Erb and Harvey, 2006).

![](_page_15_Figure_4.jpeg)

**그림 5.6** VIX 지수 대 수정된 VX 근월물 계약 가격

### 캘린더 스프레드는 평균회귀하는가? (Do Calendar Spreads Mean-Revert?)

**캘린더 스프레드(calendar spread)**는 한 선물 계약의 **롱 포지션(long position)**과 동일한 기초자산이지만 만기월이 다른 다른 선물 계약의 **숏 포지션(short position)**으로 구성된 포트폴리오이다. 스프레드 일반에 대한 이전 경험을 바탕으로, 캘린더 스프레드는 평균회귀에 훌륭한 후보가 될 것 같다: 두 레그 모두 정확히 같은 기초자산을 추적하지 않는가? 그러나 여기서도 롤 수익률이 우리의 직관을 탈선시킨다. 식 5.7에 표현된 선물 가격 모델이 이를 명확하게 해줄 것이다.

모든 스프레드 거래와 마찬가지로, 매 기간 두 레그의 시장 가치를 동일하게 유지한다고 가정하면서, 거래 신호를 생성하기 위해 두 레그의 로그 가격 차이로 스프레드를 정의할 수 있다(3장 참조). 원월물 계약을 롱하고 근월물 계약을 숏하는 스프레드 포트폴리오의 로그 시장 가치는 식 5.7에 따라 *T*2 > *T*1일 때 단순히 γ(*T*1 - *T*2)이다. (다시 말하지만, 이 간단한 공식은 *T*2 - *T*1이 크면 적용되지 않을 수 있다.) 중요한 점은 캘린더 스프레드 거래 신호가 현물 가격에 전혀 의존하지 않고, 오직 롤 수익률에만 의존한다는 것이다!

2장에서 배웠듯이, (가격 시계열과 반대로) 수익률 시계열은 거의 항상 평균회귀한다. 여기서 우리는 선물의 총 수익률이 아니라 롤 수익률 성분만을 고려하고 있으므로, 상황이 다를 수 있다. (식 5.7에 표현된 모델이 현물 및 롤 수익률 모두 일정하다고 전제하지만, 그럼에도 불구하고 롤 수익률이 천천히 변하는 상황에 적용하려고 시도할 수 있다.) CL의 12개월 로그 캘린더 스프레드에 대해 ADF 검정을 실행하면, 실제로 99퍼센트 확률로 **정상(stationary)**이고, **반감기(half-life)**가 36일임을 발견했다. 또한, CL의 로그 캘린더 스프레드에 일반적인 선형 평균회귀 전략을 적용하면, 2008년 1월 2일부터 2012년 8월 13일까지 8.3퍼센트의 APR과 1.3의 샤프 비율을 얻는다. 백테스트의 세부 사항은 예제 5.4에 설명되어 있다.

### 예제 5.4: 캘린더 스프레드의 평균회귀 거래

본문에서 논의한 대로, 원월물 계약을 롱하고 근월물 계약을 숏하는 캘린더 스프레드 포트폴리오의 로그 시장 가치는 *T*2 > *T*1일 때 단순히 γ(*T*1 - *T*2)이다. *T*1과 *T*2가 특정 캘린더 스프레드에 대해 고정되어 있으므로, 거래 신호를 생성하기 위해 (희망적으로) 평균회귀하는 γ를 사용할 수 있다. 아래 프로그램

(*계속*)

#### 예제 5.4 (계속)

*calendarSpdsMeanReversion.m*에서, CL 계약의 가격이 *τ* x *M* 배열 *cl*에 저장되어 있다고 가정한다. 여기서 *τ*는 거래일 수이고, *M*은 계약 수이다. 예제 5.3과 같은 방식으로 γ를 계산하고, 결과 값 γ를 *τ* x 1 배열 *gamma*에 저장한다. 첫 번째 단계로, γ의 반감기를 찾는다.

```
isGoodData=find(isfinite(gamma));
gammalag=lag(gamma(isGoodData), 1);
deltaGamma=gamma(isGoodData)-gammalag;
deltaGamma(1)=[];
gammalag(1)=[];
regress_results=ols(deltaGamma, [gammalag ...
 ones(size(gammalag))]);
halflife=-log(2)/regress_results.beta(1);
```

반감기는 약 36일로 발견되었다. 선형 평균회귀 전략을 적용하려면, 예제 2.5에서 보여준 것처럼 룩백을 반감기와 같게 설정하고 Z-스코어를 계산해야 한다.

```
lookback=round(halflife);
ma=movingAvg(gamma, lookback);
mstd=movingStd(gamma, lookback);
zScore=(gamma-ma)./mstd;
```

여기가 가장 어려운 부분이다. 세 가지 기준에 따라 각 역사적 날에 원월물과 근월물 계약 쌍을 선택해야 한다:

- 1. 계약 쌍의 보유 기간은 3개월(61거래일)이다.
- 2. 현재 근월물 계약 만기 10일 전에 다음 계약 쌍으로 롤 포워드한다.
- 3. 근월물과 원월물 계약의 만기일은 1년 떨어져 있다.

이러한 계약을 선택하면, 나중에 수정할 수 있지만 처음에는 원월물 계약에 롱 포지션을 잡고 근월물에 숏 포지션을 잡는다고 가정한다.

```
isExpireDate=false(size(cl));
positions=zeros(size(cl));
```

#### 예제 5.4 (계속)

```
isExpireDate=isfinite(cl) & ~isfinite(fwdshift(1, cl));
holddays=3*21;
numDaysStart=holddays+10;
numDaysEnd=10;
spreadMonth=12; % 원월물과 근월물 계약 사이의 월 수.
for c=1:length(contracts)-spreadMonth
  expireIdx=find(isExpireDate(:, c));
  expireIdx=expireIdx(end); % 초기에 일부 누락된 데이터가 있을 수 있음
  if (c==1)
    startIdx=max(1, expireIdx-numDaysStart);
    endIdx=expireIdx-numDaysEnd;
  else % 다음 근월물 계약이 현재 계약 종료 전까지 시작하지 않도록 보장
    myStartIdx=endIdx+1;
    myEndIdx=expireIdx-numDaysEnd;
    if (myEndIdx-myStartIdx >= holddays)
       startIdx=myStartIdx;
       endIdx=myEndIdx;
    else
       startIdx=NaN;
    end
end
if (~isempty(expireIdx) & endIdx > startIdx)
    positions(startIdx:endIdx, c)=-1;
    positions(startIdx:endIdx, c+spreadMonth)=1;
  end
end
```

마지막으로, 선형 평균회귀 전략을 적용하여 실제 포지션을 결정하고 포트폴리오의 레버리지 없는 일별 수익률을 계산한다. (일별 수익률은 두 계약이 있으므로 일별 손익을 2로 나눈 것이다.)

```
positions(isnan(zScore), :)=0;
positions(zScore > 0, :)=-positions(zScore > 0, :);
ret=smartsum(lag(positions).*(cl-lag(cl, 1))./lag(cl, 1), ...
 2)/2;
ret(isnan(ret))=0;
```

(*계속*)

#### 예제 5.4 (계속)

이 결과는 2008년 1월 2일부터 2012년 8월 13일까지 8.3퍼센트의 매력적인 레버리지 없는 APR과 1.3의 샤프 비율을 보여준다. 누적 수익률 곡선은 그림 5.7에 표시되어 있다.

![](_page_19_Figure_3.jpeg)

**그림 5.7** CL 12개월 캘린더 스프레드에 적용된 선형 평균회귀 전략의 누적 수익률

상품 시장을 공부하는 학생들은 계절성이 종종 두드러진 특징이라는 것을 안다. 따라서 특정 시장의 경우, 특정 월(그리고 특정 월 *간격*)의 캘린더 스프레드만 평균회귀한다는 것을 발견할 수 있다. 그러나 우리는 여기서 이러한 시장 의존적 세부 사항을 추구하지 않을 것이다.

VX 캘린더 스프레드에도 같은 선형 평균회귀 전략을 시도할 수 있다. 식 5.7은 기초자산이 *거래되는* 자산인 선물에만 적용되고, VIX는 그렇지 않다는 것이 밝혀졌다. (그림 5.4에서 CL에 대해 했듯이 로그 VX 선물 가격을 만기까지의 시간의 함수로 산점도로 그리면, 직선 위에 떨어지지 않는다는 것을 발견할 것이다.) 다양한 연구자들이 VX 선물에 적합한 대안 공식을 제안했지만(예: Dupoyet, Daigler, and Chen, 2011 참조), VX 선물 자체의 비평균회귀에 직면하여 VX 캘린더 스프레드의 평균회귀 특성을 설명할 수 있는 것은 없다는 것을 발견했다. 따라서 우리는 VX의 비율 *back*/*front*에 대한 ADF 검정도 99퍼센트 확률로 정상임을 보여주는 경험적 관찰에만 의존할 수 있다. 신호로 비율을 사용하여(이동평균과 표준편차에 대해 15일 룩백으로) 일반적인 선형 평균회귀 전략을 적용하면, VX는 2008년 10월 27일부터 2012년 4월 23일까지 17.7퍼센트의 APR과 1.5의 샤프 비율을 산출한다(누적 수익률 그래프는 그림 5.8 참조). 하지만 2008년 10월 이전에는 훨씬 더 저조한 성과를 보였다. 다음 섹션에서, 2008년 금융 위기 시기 전후로 VIX와 그 선물의 행동에 레짐 변화가 있다는 그래픽 증거를 제시할 것이므로, 아마도 이 전략 성과의 급격한 변화도 그것과 관련이 있을 것이다.

![](_page_20_Figure_2.jpeg)

**그림 5.8** VX 캘린더 스프레드에 대한 선형 평균회귀 전략의 누적 수익률

## 선물 시장간 스프레드 (Futures Intermarket Spreads)

이 장의 서론에서 말했듯이, 평균회귀하는 선물 시장간 스프레드(즉, 다른 기초자산의 선물 쌍)를 찾는 것은 쉽지 않다. 그럼에도 불구하고, 일반적인 용의자들을 체계적으로 검토해 보자.

선물 페어 트레이딩의 가장 명백한 후보는 밀접하게 관련된 시장 간의 **시장간 스프레드(intermarket spreads)**이다. 예를 들어, 에너지 복합체(WTI 원유 CL, 브렌트 원유 BZ, 무연 휘발유 RB, 난방유 HO, 모두 뉴욕상업거래소[NYMEX]에서 거래)는 풍부한 잠재적 기회를 제공해야 한다.

이 네 계약에 대해 요한센 검정을 실행하기 전에, 먼저 CL 3계약 롱, RB 2계약 숏, HO 1계약 숏으로 구성된 **크랙 스프레드(crack spread)**라는 잘 알려진 포트폴리오를 살펴볼 수 있다. 이것이 크랙 스프레드라고 불리는 이유는 원유 분자의 긴 탄화수소 사슬을 분해하여 휘발유와 난방유를 얻을 수 있기 때문이며, 3:2:1 헤지 비율은 3배럴의 CL이 대략 2배럴의 RB와 1배럴의 난방유를 생산하기 때문에 나온다. 하지만 이것이 모든 정유사에 보편적으로 적용되지는 않는다. 크랙 스프레드 거래의 한 가지 장점은 NYMEX가 이에 대한 기성 바스켓을 제공하며, 별도로 거래하는 것보다 훨씬 낮은 증거금 요구 사항을 가진다는 것이다.

그러나 2002년 5월 20일부터 2012년 5월 4일까지의 크랙 스프레드에 대해 ADF 검정을 실행하면, 이 스프레드가 평균회귀하지 않음을 보여준다. 이 스프레드의 차트(그림 5.9)는 2007년 3월 9일경부터 2008년 7월 3일까지 극적인 가치 증가를 보여주고, 그 후에 급격한 하락을 보여주며, 선형 평균회귀 전략을 실행하면 해당 기간에 음의 수익률을 보여준다. (이 검정에서는 수익률이 아닌 가격을 사용하여 연속 계약을 수정해야 한다. 그렇지 않으면 이 가격 스프레드가 1장에서 설명한 대로 롤오버 시 불연속적인 점프를 보여줄 것이다.)

또 다른 좋은 후보로 보이는 스프레드는 1:1 비율의 CL과 BZ이다. 결국, 그들의 기초자산은 둘 다 원유이다. 그러나 또 다른 빠른 ADF 검정은 그것이 정상과는 거리가 멀다는 것을 보여줄 것이다. BZ는 다양한 요인으로 인해 CL을 끊임없이 능가했다. 가능한 원인으로는 미국의 증가하는 석유 생산(Friedman, 2012), 오클라호마 쿠싱의 파이프라인 병목현상(Philips, 2012), 그리고

![](_page_21_Figure_5.jpeg)

**그림 5.9** 크랙 스프레드

2012년 이란 석유에 대한 금수 조치와 같은 지정학적 우려가 포함되며, 이는 미국보다 유럽, 따라서 BZ에 더 영향을 미쳤다.

시장간 스프레드를 직접 백테스트하려면, 1장에서 경고한 대로 가격이 동기화되어 있는지 확인하는 것을 잊지 마라. 특히, BZ가 2001년 9월 5일 NYMEX에서 거래되기 시작하기 전에는 런던의 국제석유거래소에서 거래되었으며, 이는 CL이 항상 거래된 NYMEX와 분명히 다른 마감 시간을 가지고 있다. 따라서 종가를 사용하여 2001년 9월 5일 이전의 BZ-CL 스프레드를 백테스트하는 것은 잘못될 것이다. 또한, 우리는 종종 포인트를 USD로 변환하기 위해 선물 가격에 계수를 곱해야 한다.

평균회귀하는 시장간 선물 스프레드 검색은 지금까지 성과가 없었다. 그러나 이제 그것을 바꿀 하나의 특이한 스프레드에 대해 논의할 것이다.

### 변동성 선물 대 주가지수 선물 (Volatility Futures versus Equity Index Futures)

많은 트레이더들은 변동성이 주식 시장 지수와 **역상관(anti-correlated)**된다는 것을 관찰했다: 시장이 하락하면 변동성이 급등하고, 그 반대의 경우도 어느 정도 마찬가지이다. 이 **역관계(inverse relationship)**를 시각화하는 한 가지 방법은 E-mini S&P 500 선물 근월물 가격인 ES를 VIX 선물 근월물 가격인 VX에 대해 플롯하는 것이다. 이것은 MATLAB의 "scatter" 함수로 수행할 수 있으며, 결과는 그림 5.10에 표시되어 있다.

이 플롯의 첫 번째 명백한 특징은 실제로 주가지수가 변동성과 역관계를 가지고 있다는 것이다. 그러나 더 흥미롭게도, 두 개의 주요 **레짐(regimes)**이 있는 것 같다. 2004년부터 2008년 5월까지와 2008년 8월부터 2012년까지이다. 두 번째 레짐은 주어진 주가지수 수준에서 눈에 띄게 낮은 변동성을 가지고 있다. 평이하게

![](_page_22_Figure_8.jpeg)

**그림 5.10** 변동성 레짐 연구: ES 대 VX

말하면, 시장은 요즘 덜 변동적이다. 그러나 변동성의 범위는 지금 더 커서, 이전보다 더 극단적인 변동성을 가진 날들이 있다는 것을 의미한다. (과도기적 상태를 나타낼 수 있는 다른 더 짧은 기간이 있지만, 분석에서는 무시할 것이다.) 두 레짐의 혼합에 대해 선형 회귀를 실행하거나 요한센 검정을 적용하는 것은 실수일 것이므로, 이 글을 쓰는 시점까지 연장되는 두 번째 레짐에 집중한다.

나중에 이 회귀의 다양한 통계를 사용하여 거래 모델을 구축하고자 하므로, 2008년 8월 이후 데이터의 처음 500일만 훈련 세트로 **회귀 계수(regression coefficients)**를 계산하기로 선택한다. 실제로 **선형 회귀(linear regression)** 프로그램을 통해 가격을 실행하기 전에, VX와 ES의 선물 가격이 다른 단위로 되어 있다는 것을 기억해야 한다: VX의 1포인트 움직임은 1,000달러이고, ES의 1포인트 움직임은 50달러이다. 따라서 헤지 비율이 계약 수의 비율을 적절히 반영하도록 VX의 가격에 1,000을, ES의 가격에 50을 곱해야 한다.

선형 관계는 식 5.11에 표시되어 있다.

$$ES \times 50 = -0.3906 \times VX \times 1,000 + 77,150 \qquad (5.11)$$

여기서 ES와 VX는 각각의 선물 (결제) 가격이다. 잔차의 표준편차는 2,047달러이다. 이는 0.3906 계약의 VX를 롱하고 1 계약의 ES를 롱하는 포트폴리오가 정상이어야 한다는 것을 의미하며, 이 포트폴리오의 시장 가치 플롯(그림 5.11)이 우리를 납득시킬 것이다.

우리는 이 포트폴리오의 가치가 훈련 세트에서 결정된 잔차의 1 표준편차에서 벗어날 때마다 숏함으로써 **볼린저 밴드 유사(Bollinger band-like)** 평균회귀 전략을 구성할 수 있다.

![](_page_23_Figure_8.jpeg)

**그림 5.11** ES와 VX의 정상 포트폴리오

![](_page_24_Figure_2.jpeg)

**그림 5.12** VX-ES 평균회귀 전략의 누적 수익률

테스트 세트 2010년 7월 29일부터 2012년 5월 8일까지의 APR은 12.3퍼센트이고, 샤프 비율은 1.4이다. 이 전략은 특히 Standard and Poor's가 미국 신용 등급을 하향 조정한 시기 전후로 특히 수익성이 높았다. 누적 수익률 곡선은 그림 5.12에 표시되어 있다.

VX-ES 스프레드의 평균회귀 특성에 의존하지 않는 다른 VX 대 ES 전략을 사용할 수 있다. 그것은 모멘텀 전략이기 때문에, 다음 장에서 논의할 것이다.

## 핵심 요점 (Key Points)

- "상품" 통화는 그룹으로서 공적분에 대한 많은 기회를 제공한다.
- 두 통화 교차환율이 있는 포트폴리오의 수익률을 계산할 때, 그들이 같은 호가 통화를 가지는지, 같은 기준 통화를 가지는지, 또는 둘 다 아닌지에 주의를 기울였는가? 수익률을 계산하는 공식은 모든 경우에 같지 않다.
- 선물 수익률은 두 가지 구성요소로 이루어진다: 현물 수익률과 롤 수익률.
- 백워데이션은 롤 수익률이 양수이고, 원월물 계약이 근월물 계약보다 저렴하다는 것을 의미한다. 콘탱고는 롤 수익률이 음수이고, 원월물 계약이 근월물 계약보다 비싸다는 것을 의미한다.
- 롤 수익률 때문에, 현물 가격의 평균회귀가 선물 가격의 평균회귀를 유도하지 않을 수 있다.
- 거래 자산의 선물 캘린더 스프레드의 평균회귀는 롤 수익률의 평균회귀에 의존한다.
