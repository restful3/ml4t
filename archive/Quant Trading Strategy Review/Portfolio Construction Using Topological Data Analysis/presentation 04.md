# DBSCAN: 점들의 속삭임으로 숨겨진 그룹 찾기 (A density-based algorithm for discovering clusters in large spatial databases with noise)

## 1. 시작하며: 데이터 속 숨은 그림 찾기

데이터 분석은 종종 거대한 데이터 속에서 의미 있는 패턴을 찾아내는 '숨은 그림 찾기'와 같습니다. 이 과정에서 '클러스터링(Clustering)'은 마치 밤하늘의 별들을 이어 별자리를 찾거나, 붐비는 파티에서 자연스럽게 무리 짓는 사람들을 발견하는 것과 같습니다. 즉, 데이터 포인트들이 자연스럽게 모여 있는 그룹(클러스터)을 찾는 것이 목표입니다.

하지만 기존의 많은 클러스터링 알고리즘은 클러스터가 동그란 모양(볼록한 형태)일 것이라고 가정하는 한계를 가집니다. 이 때문에 길쭉하거나 구불구불한 모양처럼 복잡한 형태의 그룹은 잘 찾아내지 못합니다.

이러한 문제에 대한 탁월한 해결책이 바로 **DBSCAN (Density-Based Spatial Clustering of Applications with Noise)** 입니다. DBSCAN은 "점들이 얼마나 빽빽하게 모여 있는가?"라는 매우 간단하고 직관적인 아이디어를 사용합니다. 이 접근법 덕분에 DBSCAN은 모양에 구애받지 않고 어떤 형태의 그룹이든 효과적으로 찾아낼 수 있습니다.

그렇다면 DBSCAN이 사용하는 '밀도'라는 개념은 정확히 무엇을 의미하며, 어떻게 측정하는 것일까요? 다음 섹션에서 그 핵심 원리를 자세히 살펴보겠습니다.

## 2. DBSCAN의 핵심 아이디어: '밀도'는 어떻게 측정할까?

DBSCAN은 '밀도'라는 개념을 정의하기 위해 두 가지 간단한 규칙, 즉 두 개의 핵심 파라미터를 사용합니다. 이 두 가지를 이해하면 DBSCAN의 작동 원리 대부분을 파악할 수 있습니다.

* **Eps (입실론)**: 하나의 점에서부터 '이웃'으로 간주할 최대 거리(반경)를 의미합니다. 마치 사람마다 편안함을 느끼는 '개인의 사적인 공간'의 크기를 정하는 것과 같습니다. 이 원 안에 들어오는 다른 점들은 모두 나의 이웃이 됩니다.
* **MinPts (최소 포인트 수)**: 점이 '빽빽한 지역'의 중심이 되기 위한 최소 이웃 수를 정의하는 **문턱값**입니다. 이것이 바로 DBSCAN의 가장 중요한 규칙인 <b>'핵심 포인트 조건' (|NEps(q)| >= MinPts)</b>을 결정하며, 새로운 클러스터의 생성을 시작하거나 기존 클러스터를 확장하는 유일한 트리거 역할을 합니다.

DBSCAN은 이 두 파라미터를 기준으로 모든 데이터 포인트를 다음 세 가지 유형으로 분류합니다.

* **핵심 포인트 (Core Point)**: 자신의 Eps 반경 안에 MinPts 개 이상의 이웃(자기 자신 포함)을 가진 점입니다. 파티 비유를 들자면, 주변에 친구들이 많이 모여 있는 **인기 있는 사람**과 같습니다. 이 점은 새로운 클러스터의 시작점이 될 자격이 있습니다.
* **경계 포인트 (Border Point)**: 자신은 핵심 포인트가 아니지만(Eps 반경 내 이웃 수가 MinPts보다 적지만), 다른 핵심 포인트의 Eps 반경 안에는 속해 있는 점입니다. 파티에서는 무리의 중심은 아니지만, 인기 있는 사람의 친구 그룹에 속해 있는 **무리의 주변인**과 같으며 클러스터의 가장자리를 형성합니다.
* **잡음 포인트 (Noise Point)**: 핵심 포인트도, 경계 포인트도 아닌 점입니다. 즉, 어떤 핵심 포인트의 이웃에도 속하지 못하는 점입니다. 파티에서 어떤 무리와도 어울리지 않고 한쪽에 **혼자 떨어져 있는 사람**에 해당합니다.

이처럼 모든 점을 핵심, 경계, 잡음으로 구분하는 것이 DBSCAN이 복잡한 모양의 클러스터를 찾아내는 첫걸음입니다. 이제 이 점들을 이용해 실제 클러스터가 어떻게 만들어지는지 살펴보겠습니다.

## 3. DBSCAN의 클러스터 탐색 과정: 한 점에서 시작하여 그룹 확장하기

DBSCAN은 위에서 정의한 포인트 유형을 바탕으로 매우 체계적인 탐색 과정을 거칩니다. 알고리즘은 다음과 같은 4단계로 작동합니다.

1. **1단계: 임의의 점 선택** 아직 방문하지 않은 데이터 포인트 중 하나를 무작위로 선택합니다.
2. **2단계: 핵심 포인트 여부 확인** 선택한 점의 Eps 반경 내에 MinPts 개 이상의 점이 있는지 확인하여 '핵심 포인트 조건'을 만족하는지 판단합니다.
3. **3단계: 클러스터 확장 (핵심 포인트일 경우)** 만약 선택한 점이 핵심 포인트라면, 그 자리에서 새로운 클러스터 확장이 시작됩니다. 이 과정은 마치 하나의 불씨가 번져나가는 들불과 같습니다.
    * **점화**: 먼저, 해당 핵심 포인트와 그 이웃들을 모두 하나의 클러스터에 포함시킵니다.
    * **확산**: 이제 이웃이 된 점들을 하나씩 확인합니다. 만약 그중 또 다른 '핵심 포인트'가 발견되면, 이제 불씨가 옮겨붙은 것입니다. 알고리즘은 그 새로운 핵심 포인트의 이웃들까지 탐색 대상 목록(Queue)에 추가하고, 이들 역시 같은 클러스터로 끌어들입니다.
    * **완성**: 이 연쇄 반응은 탐색 목록에 더 이상 새로운 핵심 포인트가 없을 때까지, 즉 불이 번져나갈 곳이 없을 때까지 계속됩니다.
4. 이것이 바로 DBSCAN이 **밀도로 연결될 수 있는(density-reachable)** 모든 점을 찾아내는 방식입니다. 이렇게 형성된 최종 그룹은 그 안의 모든 점들이 서로에게 **밀도로 연결되어(density-connected)** 있기 때문에 하나의 완전한 클러스터로 인정됩니다.
5. **4단계: 다음 점으로 이동 (핵심 포인트가 아닐 경우)** 만약 선택한 점이 핵심 포인트가 아니라면, 일단 '잡음(Noise)'으로 임시 분류하고 다음 미방문 점으로 넘어갑니다. 여기서 중요한 점은, 지금 잡음으로 분류되었더라도 나중에 다른 핵심 포인트의 이웃으로 발견되면 '경계 포인트'가 되어 특정 클러스터에 포함될 수 있다는 것입니다.

DBSCAN은 데이터베이스의 모든 점에 대해 위 4단계 과정을 반복합니다. 모든 탐색이 끝나면, 각 점들은 특정 클러스터에 속하거나 최종적으로 잡음으로 남게 됩니다.

이렇듯 기만적으로 단순해 보이는 확장 메커니즘이야말로 DBSCAN에게 막강한 힘을 부여하는 비결입니다. 다음 섹션에서는 이러한 밀도 우선 접근법이 왜 그토록 효과적인지 정확히 분석해 보겠습니다.

## 4. DBSCAN의 특별한 능력들

이렇게 간단한 규칙을 따르는 DBSCAN은 다른 클러스터링 알고리즘과 비교해 몇 가지 매우 강력한 장점을 가집니다.

* **어떤 모양의 클러스터든 발견** DBSCAN은 클러스터가 동그랗거나 볼록해야 한다는 가정을 전혀 하지 않습니다. 오직 '밀도'로만 연결하기 때문에, 복잡하고 임의적인 모양의 클러스터도 매우 효과적으로 찾아냅니다. 예를 들어, CLARANS와 같은 기존 알고리즘은 크기가 큰 클러스터를 분할하거나(데이터셋 1), 길쭉한 모양의 클러스터를 제대로 인식하지 못하며(데이터셋 2), 노이즈를 잘못된 그룹에 포함시키는(데이터셋 3) 경향이 있습니다. 반면 DBSCAN은 이 세 가지 까다로운 경우 모두에서 정확하게 클러스터의 형태를 파악하고 노이즈를 분리해냅니다.
* **'잡음(Noise)'의 자동 식별** 모든 데이터를 억지로 특정 그룹에 할당하지 않습니다. 어떤 클러스터의 밀도 기준에도 맞지 않는 점들은 '잡음'으로 명확하게 구분해주는 기능이 내장되어 있어, 데이터 분석 시 이상치를 자연스럽게 걸러낼 수 있습니다.
* **사전 정보 최소화** 많은 알고리즘은 분석가에게 "몇 개의 클러스터로 나눌 것인가? (k)"를 미리 물어봅니다. DBSCAN은 이 k값을 정해줄 필요가 없습니다. 이론적으로는 Eps와 MinPts 두 개의 파라미터가 있지만, 알고리즘은 사용자의 부담을 최소화하도록 설계되었습니다. 실용적으로는 MinPts를 2차원 데이터의 경우 4와 같이 표준값으로 고정한 뒤, k-dist 그래프와 같은 도구를 이용해 데이터에 가장 적합한 Eps 값 하나만 찾아내면 되므로 훨씬 직관적입니다.

이러한 장점들은 DBSCAN을 매우 실용적이고 강력한 데이터 분석 도구로 만들어 줍니다.

## 5. 결론: 밀도가 들려주는 이야기

DBSCAN의 핵심 철학은 지극히 단순합니다: **"점들이 빽빽하게 모여 있는 곳은 하나의 그룹이고, 그렇지 않은 곳은 의미 없는 잡음이다."**

이 밀도 기반 접근법을 통해 DBSCAN은 기존 알고리즘의 한계를 넘어 임의의 형태를 가진 클러스터를 발견하고, 의미 있는 노이즈를 효과적으로 걸러내며, 비교적 적은 사전 지식만으로도 훌륭한 결과를 만들어냅니다.

데이터의 밀도에 귀 기울이는 법을 배움으로써, 당신은 다른 방법들이 놓치는 자연스럽고 복잡한 패턴을 보는 능력을 잠금 해제하고, 침묵하던 점들을 명확한 이야기로 바꿀 수 있습니다.
